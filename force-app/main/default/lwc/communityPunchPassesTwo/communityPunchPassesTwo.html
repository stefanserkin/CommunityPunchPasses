<!-- sldsValidatorIgnore -->
<template>
	<template if:true={accountName}>
		<!-- LIGHTNING CARD -->
		<lightning-card title={cardTitle} icon-name="custom:custom95">

			<!-- SPINNER ON LOAD -->
			<lightning-spinner if:true={isLoading} alternative-text="Loading" variant="brand" size="medium"></lightning-spinner>

			<ul class="slds-accordion">
				<li class="slds-accordion__list-item">
				  <section class="slds-accordion__section slds-is-open">
					<div class="slds-accordion__summary">
					  <h2 class="slds-accordion__summary-heading">
						<button class="slds-button slds-button_reset slds-accordion__summary-action" aria-controls="referenceId-45" aria-expanded="true" title="Accordion summary">
						  <svg class="slds-accordion__summary-action-icon slds-button__icon slds-button__icon_left" aria-hidden="true">
							<use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#switch"></use>
						  </svg>
						  <span class="slds-icon_container slds-icon-standard-account" title="Description of icon when needed">
							<svg class="slds-icon" aria-hidden="true">
							  <use xlink:href="/assets/icons/standard-sprite/svg/symbols.svg#account"></use>
							</svg>
							<span class="slds-assistive-text">Description of icon when needed</span>
						  </span>
						  <!--
						  <span class="slds-icon_container slds-icon-standard-product_required" title="Active Memberships">
							<svg class="slds-icon" aria-hidden="true">
							  <use xlink:href="/assets/icons/standard-sprite/svg/symbols.svg#product_required"></use>
							</svg>
						  </span>
						  -->
						  <span class="slds-accordion__summary-content">Active Punch Passes</span>
						</button>
					  </h2>
					</div>
					<div class="slds-accordion__content" id="referenceId-45">
						<template if:true={contactsWithActivePunchPasses}>
						
							<lightning-accordion allow-multiple-sections-open>
								<template for:each={contactsWithActivePunchPasses} for:item="cont">
									<lightning-accordion-section 
										name={cont.fullName} 
										label={cont.fullName} 
										key={cont.Id}
									>
										<template if:true={cont.TREX1__Memberships__r}>
											<lightning-datatable
												data={cont.TREX1__Memberships__r}
												columns={cols}
												key-field="Id"
												column-widths-mode="auto"
												resize-column-disabled
												hide-checkbox-column
											></lightning-datatable>
										</template>
										<template if:false={cont.TREX1__Memberships__r}>
											<p>{noActivePunchPassesDescriptionContact}</p>
										</template>
			
									</lightning-accordion-section>
								</template>
							</lightning-accordion>
						</template>		
						<template if:false={contactsWithActivePunchPasses}>
							{noActivePunchPassesDescription}
						</template>

					</div>
				  </section>
				</li>
				<li class="slds-accordion__list-item">
				  <section class="slds-accordion__section">
					<div class="slds-accordion__summary">
					  <h2 class="slds-accordion__summary-heading">
						<button class="slds-button slds-button_reset slds-accordion__summary-action" aria-controls="referenceId-46" aria-expanded="false" title="Accordion summary">
						  <svg class="slds-accordion__summary-action-icon slds-button__icon slds-button__icon_left" aria-hidden="true">
							<use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#switch"></use>
						  </svg>
						  <span class="slds-accordion__summary-content">Completed Punch Passes</span>
						</button>
					  </h2>
					</div>
					<div hidden="" class="slds-accordion__content" id="referenceId-46">
						
					</div>
				  </section>
				</li>
				<li class="slds-accordion__list-item">
				  <section class="slds-accordion__section">
					<div class="slds-accordion__summary">
					  <h2 class="slds-accordion__summary-heading">
						<button class="slds-button slds-button_reset slds-accordion__summary-action" aria-controls="referenceId-47" aria-expanded="false" title="Accordion summary">
						  <svg class="slds-accordion__summary-action-icon slds-button__icon slds-button__icon_left" aria-hidden="true">
							<use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#switch"></use>
						  </svg>
						  <span class="slds-accordion__summary-content">Accordion summary</span>
						</button>
					  </h2>
					</div>
					<div hidden="" class="slds-accordion__content" id="referenceId-47">Accordion details - C</div>
				  </section>
				</li>
			  </ul>










			<!--
			<lightning-accordion allow-multiple-sections-open>

				<lightning-accordion-section name="Active Punch Passes" label={activePunchPassesSectionLabel}>
					<template if:true={contactsWithActivePunchPasses}>
						
						<lightning-accordion allow-multiple-sections-open>
							<template for:each={contactsWithActivePunchPasses} for:item="cont">
								<lightning-accordion-section 
									name={cont.fullName} 
									label={cont.fullName} 
									key={cont.Id}
								>
									<template if:true={cont.TREX1__Memberships__r}>
										<lightning-datatable
											data={cont.TREX1__Memberships__r}
											columns={cols}
											key-field="Id"
											column-widths-mode="auto"
											resize-column-disabled
											hide-checkbox-column
										></lightning-datatable>
									</template>
									<template if:false={cont.TREX1__Memberships__r}>
										<p>{noActivePunchPassesDescriptionContact}</p>
									</template>
		
								</lightning-accordion-section>
							</template>
						</lightning-accordion>
					</template>		
					<template if:false={contactsWithActivePunchPasses}>
						{noActivePunchPassesDescription}
					</template>
				</lightning-accordion-section>

				<lightning-accordion-section name="Completed Punch Passes" label={completedPunchPassesSectionLabel}>
					<template if:true={contactsWithCompletedPunchPasses}>
						<lightning-accordion allow-multiple-sections-open>
							<template for:each={contactsWithCompletedPunchPasses} for:item="cont">
								<lightning-accordion-section 
									name={cont.fullName} 
									label={cont.fullName} 
									key={cont.Id}
								>
									<template if:true={cont.TREX1__Memberships__r}>
										<lightning-datatable
											data={cont.TREX1__Memberships__r}
											columns={cols}
											key-field="Id"
											column-widths-mode="auto"
											resize-column-disabled
											hide-checkbox-column
										></lightning-datatable>
									</template>
									<template if:false={cont.TREX1__Memberships__r}>
										<p>{noCompletedPunchPassesDescriptionContact}</p>
									</template>
		
								</lightning-accordion-section>
							</template>
						</lightning-accordion>
					</template>		
					<template if:false={contactsWithCompletedPunchPasses}>
						{noCompletedPunchPassesDescription}
					</template>

				</lightning-accordion-section>
			</lightning-accordion>

			-->

		</lightning-card>
	</template>
</template>